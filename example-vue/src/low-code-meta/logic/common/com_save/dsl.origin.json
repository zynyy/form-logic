{
  "code": "com_save",
  "remarks": "保存表单数据",
  "name": "保存表单数据",
  "suffix": "save",
  "before": "com_",
  "type": "com",
  "cells": [
    {
      "shape": "edge",
      "attrs": {
        "line": {
          "stroke": "#A2B1C3",
          "targetMarker": { "name": "block", "width": 12, "height": 8 }
        }
      },
      "id": "edge-bjpev5p3",
      "zIndex": 0,
      "data": { "settingConfig": "edge-config", "configValues": {} },
      "source": { "cell": "start-gn4piz4w", "port": "fb6b3352-2925-4c39-b07f-692723fa562e" },
      "target": { "cell": "fn-66o6ll2n", "port": "6092c717-1306-4d2f-b41e-d22138ceb050" }
    },
    {
      "shape": "edge",
      "attrs": {
        "line": {
          "stroke": "#A2B1C3",
          "targetMarker": { "name": "block", "width": 12, "height": 8 },
          "strokeDasharray": 0,
          "style": { "animation": "none" }
        }
      },
      "id": "noEdge-lj358flv",
      "zIndex": 0,
      "data": { "configValues": { "label": "否", "value": "NO" } },
      "labels": [{ "attrs": { "label": { "text": "否" } } }],
      "source": { "cell": "yn-ba1m618e", "port": "d40aa23e-d2de-4a07-bdac-e7fd3f2bd9a9" },
      "target": { "cell": "end-xzaj6xig", "port": "75592d44-3d2e-4abd-91b8-e01046731be6" }
    },
    {
      "shape": "edge",
      "attrs": {
        "line": {
          "stroke": "#A2B1C3",
          "targetMarker": { "name": "block", "width": 12, "height": 8 }
        }
      },
      "id": "edge-zt70jnyi",
      "zIndex": 0,
      "data": { "settingConfig": "edge-config", "configValues": {} },
      "source": { "cell": "fn-66o6ll2n", "port": "19629852-77ba-45fc-90bc-2a245b3dee25" },
      "target": { "cell": "yn-ba1m618e", "port": "b74b4d1e-dcd4-4251-bc47-b30abe2e2736" }
    },
    {
      "shape": "edge",
      "attrs": {
        "line": {
          "stroke": "#A2B1C3",
          "targetMarker": { "name": "block", "width": 12, "height": 8 }
        }
      },
      "id": "yesEdge-voh459ux",
      "zIndex": 0,
      "data": { "configValues": { "label": "是", "value": "YES" } },
      "labels": [{ "attrs": { "label": { "text": "是" } } }],
      "source": { "cell": "yn-ba1m618e", "port": "c1b73161-3fff-40c1-9d7a-7897d10f3470" },
      "target": { "cell": "fn-715u44ih", "port": "b75b9d74-5305-4b0d-b2cf-f2d276010c00" }
    },
    {
      "shape": "edge",
      "attrs": {
        "line": {
          "stroke": "#A2B1C3",
          "targetMarker": { "name": "block", "width": 12, "height": 8 }
        }
      },
      "id": "edge-9o0et79r",
      "zIndex": 0,
      "data": { "settingConfig": "edge-config", "configValues": {} },
      "source": { "cell": "fn-715u44ih", "port": "bf54b4dd-7970-43d7-b4d4-3808f505b027" },
      "target": { "cell": "yn-wx0delvs", "port": "f67c2880-9b2c-412c-a718-2dd3cbe8991c" }
    },
    {
      "shape": "edge",
      "attrs": {
        "line": {
          "stroke": "#A2B1C3",
          "targetMarker": { "name": "block", "width": 12, "height": 8 }
        }
      },
      "id": "yesEdge-11859w8v",
      "zIndex": 0,
      "data": { "configValues": { "label": "是", "value": "YES" } },
      "labels": [{ "attrs": { "label": { "text": "是" } } }],
      "source": { "cell": "yn-wx0delvs", "port": "deece205-45e3-4a59-86f9-241b4fd2015b" },
      "target": { "cell": "fn-370xoire", "port": "7dffb8cd-e65c-47cf-9085-0f80e977b82f" }
    },
    {
      "shape": "edge",
      "attrs": {
        "line": {
          "stroke": "#A2B1C3",
          "targetMarker": { "name": "block", "width": 12, "height": 8 }
        }
      },
      "id": "noEdge-1je1t7al",
      "zIndex": 0,
      "data": { "configValues": { "label": "否", "value": "NO" } },
      "labels": [{ "attrs": { "label": { "text": "否" } } }],
      "source": { "cell": "yn-wx0delvs", "port": "0aa8a9a7-e8f1-461f-88da-7d4a4c6dc711" },
      "target": { "cell": "end-xzaj6xig", "port": "75592d44-3d2e-4abd-91b8-e01046731be6" }
    },
    {
      "shape": "edge",
      "attrs": {
        "line": {
          "stroke": "#A2B1C3",
          "targetMarker": { "name": "block", "width": 12, "height": 8 }
        }
      },
      "id": "edge-tbib6gjb",
      "zIndex": 0,
      "data": { "settingConfig": "edge-config", "configValues": {} },
      "source": { "cell": "fn-370xoire", "port": "4b7392b4-86cf-4a4b-88b7-f8b0ac3b19ce" },
      "target": { "cell": "fn-odt95ai0", "port": "d4b7b797-4a33-4e89-a03a-208ab07c82c0" }
    },
    {
      "shape": "edge",
      "attrs": {
        "line": {
          "stroke": "#A2B1C3",
          "targetMarker": { "name": "block", "width": 12, "height": 8 }
        }
      },
      "id": "edge-83zn24h9",
      "zIndex": 0,
      "data": { "settingConfig": "edge-config", "configValues": {} },
      "source": { "cell": "fn-odt95ai0", "port": "b48dd8bf-50d7-4178-b7e9-f06d8453c624" },
      "target": { "cell": "yn-na4lnxpj", "port": "ed29d527-9fee-4885-bf2b-e5ab32629eae" }
    },
    {
      "shape": "edge",
      "attrs": {
        "line": {
          "stroke": "#A2B1C3",
          "targetMarker": { "name": "block", "width": 12, "height": 8 }
        }
      },
      "id": "yesEdge-uwqgil5w",
      "zIndex": 0,
      "data": { "configValues": { "label": "是", "value": "YES" } },
      "labels": [{ "attrs": { "label": { "text": "是" } } }],
      "source": { "cell": "yn-na4lnxpj", "port": "ec9605f9-50c7-4aa1-a3c4-a9a6836ba5ff" },
      "target": { "cell": "fn-qqousqox", "port": "3a0ba094-fbef-4c32-82a8-1e5bf945d491" }
    },
    {
      "shape": "edge",
      "attrs": {
        "line": {
          "stroke": "#A2B1C3",
          "targetMarker": { "name": "block", "width": 12, "height": 8 }
        }
      },
      "id": "noEdge-keeuga58",
      "zIndex": 0,
      "data": { "configValues": { "label": "否", "value": "NO" } },
      "labels": [{ "attrs": { "label": { "text": "否" } } }],
      "source": { "cell": "yn-na4lnxpj", "port": "a43080ff-0d5f-495b-8082-b82a86ba8168" },
      "target": { "cell": "end-xzaj6xig", "port": "75592d44-3d2e-4abd-91b8-e01046731be6" }
    },
    {
      "shape": "edge",
      "attrs": {
        "line": {
          "stroke": "#A2B1C3",
          "targetMarker": { "name": "block", "width": 12, "height": 8 }
        }
      },
      "id": "edge-wf60cdab",
      "zIndex": 0,
      "data": { "settingConfig": "edge-config", "configValues": {} },
      "source": { "cell": "fn-qqousqox", "port": "ed876e6d-24b4-422d-91e9-f8bd380b36de" },
      "target": { "cell": "end-xzaj6xig", "port": "75592d44-3d2e-4abd-91b8-e01046731be6" }
    },
    {
      "position": { "x": 100, "y": 136 },
      "size": { "width": 66, "height": 36 },
      "attrs": { "text": { "text": "开始" }, "body": { "rx": 20, "ry": 26 } },
      "visible": true,
      "shape": "custom-rect",
      "id": "start-gn4piz4w",
      "data": {
        "validateRules": { "inOut": true },
        "templateCode": "startTemplateCode",
        "code": "// 开始节点\nexport default async function (ctx) {\n  return {};\n}\n"
      },
      "zIndex": 1,
      "ports": {
        "groups": {
          "rightOut": {
            "position": "right",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "bottomOut": {
            "position": "bottom",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          }
        },
        "items": [
          { "group": "rightOut", "id": "0d1f21a5-a4a7-4ac6-9c92-405e8f41d0a4" },
          { "group": "bottomOut", "id": "fb6b3352-2925-4c39-b07f-692723fa562e" }
        ]
      }
    },
    {
      "position": { "x": 494, "y": 610 },
      "size": { "width": 66, "height": 36 },
      "attrs": { "text": { "text": "结束" }, "body": { "rx": 20, "ry": 26 } },
      "visible": true,
      "shape": "custom-rect",
      "id": "end-xzaj6xig",
      "data": {
        "validateRules": { "inOut": true },
        "templateCode": "endTemplateCode",
        "code": "// 结束节点\nexport default async function (ctx) {}\n"
      },
      "zIndex": 2,
      "ports": {
        "groups": {
          "leftIn": {
            "position": "left",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "topIn": {
            "position": "top",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          }
        },
        "items": [
          { "group": "leftIn", "id": "75592d44-3d2e-4abd-91b8-e01046731be6" },
          { "group": "topIn", "id": "a3a25e54-9dcc-449c-8096-fbb647122f69" }
        ]
      }
    },
    {
      "position": { "x": 166, "y": 210 },
      "size": { "width": 66, "height": 36 },
      "attrs": { "text": { "text": "获取表单值" }, "label": { "text": "获取表单值" } },
      "visible": true,
      "shape": "custom-rect",
      "id": "fn-66o6ll2n",
      "data": {
        "settingConfig": "process-config",
        "configValues": { "label": "获取表单值" },
        "codeEditor": true,
        "validateRules": { "inOut": true },
        "templateCode": "processTemplateCode",
        "code": "// 函数节点\nimport { getSubmitFormValues } from '@formlogic/render-vue';\n\nexport default async function (ctx) {\n  const { payload } = ctx || {};\n  const { form } = payload || {};\n\n  try {\n    const formValues = await getSubmitFormValues(form);\n\n    return {\n      success: true,\n      formValues\n    };\n  } catch (e) {\n    return {\n      success: false,\n    };\n  }\n}\n"
      },
      "zIndex": 3,
      "ports": {
        "groups": {
          "topIn": {
            "position": "top",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "leftIn": {
            "position": "left",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "bottomOut": {
            "position": "bottom",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "rightOut": {
            "position": "right",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          }
        },
        "items": [
          { "group": "topIn", "id": "2b06bbae-43bc-4429-9399-7e516066e98b" },
          { "group": "bottomOut", "id": "19629852-77ba-45fc-90bc-2a245b3dee25" },
          { "group": "leftIn", "id": "6092c717-1306-4d2f-b41e-d22138ceb050" },
          { "group": "rightOut", "id": "1ea79b08-273f-4de6-8ce2-2eeeba23f891" }
        ]
      }
    },
    {
      "position": { "x": 166, "y": 320 },
      "size": { "width": 66, "height": 36 },
      "attrs": {
        "text": { "text": "判断" },
        "body": { "refPoints": "0,10 10,0 20,10 10,20" },
        "label": { "text": "判断" }
      },
      "visible": true,
      "shape": "custom-polygon",
      "ports": {
        "groups": {
          "top": {
            "position": "top",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "hidden" }
              }
            }
          },
          "right": {
            "position": "right",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "hidden" }
              }
            }
          },
          "bottom": {
            "position": "bottom",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "hidden" }
              }
            }
          },
          "left": {
            "position": "left",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "hidden" }
              }
            }
          },
          "topIn": {
            "position": "top",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "leftOut": {
            "position": "left",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "rightOut": {
            "position": "right",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          }
        },
        "items": [
          { "group": "topIn", "id": "b74b4d1e-dcd4-4251-bc47-b30abe2e2736" },
          { "group": "rightOut", "id": "d40aa23e-d2de-4a07-bdac-e7fd3f2bd9a9" },
          { "group": "leftOut", "id": "c1b73161-3fff-40c1-9d7a-7897d10f3470" }
        ]
      },
      "id": "yn-ba1m618e",
      "data": {
        "settingConfig": "yesOrNo-config",
        "codeEditor": true,
        "configValues": { "label": "判断" },
        "validateRules": { "inOut": true },
        "createEdgeConfig": {
          "rightOut": { "portEdge": "createNoEdge" },
          "leftOut": { "portEdge": "createYesEdge" }
        },
        "templateCode": "yesOrNoTemplate",
        "code": "// 判读节点 必须要返回 nextEdge 值是 YES 或者 NO\nexport default async function (ctx) {\n  const { success } = ctx.lastResult || {};\n\n  if (success) {\n    return {\n      nextEdge: 'YES',\n      ...ctx.lastResult\n    };\n  }\n\n  return {\n    nextEdge: 'NO',\n  };\n}\n"
      },
      "zIndex": 4
    },
    {
      "position": { "x": 166, "y": 450 },
      "size": { "width": 66, "height": 36 },
      "attrs": { "text": { "text": "自定义验证" }, "label": { "text": "自定义验证" } },
      "visible": true,
      "shape": "custom-rect",
      "id": "fn-715u44ih",
      "data": {
        "settingConfig": "process-config",
        "configValues": { "label": "自定义验证" },
        "codeEditor": true,
        "validateRules": { "inOut": true },
        "templateCode": "processTemplateCode",
        "code": "// 函数节点\nexport default async function (ctx) {\n  const { payload } = ctx || {};\n  const { form, params } = payload || {};\n\n  const { formValues } = ctx.lastResult || {};\n\n  try {\n    const { validateFormValues } = params || {};\n\n    if (validateFormValues) {\n      const success = await validateFormValues?.(formValues, form);\n\n      return {\n        success: success,\n        formValues,\n      };\n    }\n\n    return {\n      success: true,\n      formValues,\n    };\n  } catch (err) {\n    return {\n      success: false,\n      formValues,\n    };\n  }\n}\n"
      },
      "zIndex": 5,
      "ports": {
        "groups": {
          "topIn": {
            "position": "top",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "leftIn": {
            "position": "left",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "bottomOut": {
            "position": "bottom",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "rightOut": {
            "position": "right",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          }
        },
        "items": [
          { "group": "topIn", "id": "f296f15a-18df-4061-9969-6a80f2710af4" },
          { "group": "bottomOut", "id": "bf54b4dd-7970-43d7-b4d4-3808f505b027" },
          { "group": "leftIn", "id": "b75b9d74-5305-4b0d-b2cf-f2d276010c00" },
          { "group": "rightOut", "id": "fdc7ed9c-4710-409d-9af7-753c9db94ec5" }
        ]
      }
    },
    {
      "position": { "x": 166, "y": 554 },
      "size": { "width": 66, "height": 36 },
      "attrs": { "text": { "text": "判断" }, "body": { "refPoints": "0,10 10,0 20,10 10,20" } },
      "visible": true,
      "shape": "custom-polygon",
      "ports": {
        "groups": {
          "top": {
            "position": "top",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "hidden" }
              }
            }
          },
          "right": {
            "position": "right",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "hidden" }
              }
            }
          },
          "bottom": {
            "position": "bottom",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "hidden" }
              }
            }
          },
          "left": {
            "position": "left",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "hidden" }
              }
            }
          },
          "topIn": {
            "position": "top",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "leftOut": {
            "position": "left",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "rightOut": {
            "position": "right",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          }
        },
        "items": [
          { "group": "topIn", "id": "f67c2880-9b2c-412c-a718-2dd3cbe8991c" },
          { "group": "rightOut", "id": "0aa8a9a7-e8f1-461f-88da-7d4a4c6dc711" },
          { "group": "leftOut", "id": "deece205-45e3-4a59-86f9-241b4fd2015b" }
        ]
      },
      "id": "yn-wx0delvs",
      "data": {
        "settingConfig": "yesOrNo-config",
        "codeEditor": true,
        "configValues": { "label": "判断" },
        "validateRules": { "inOut": true },
        "createEdgeConfig": {
          "rightOut": { "portEdge": "createNoEdge" },
          "leftOut": { "portEdge": "createYesEdge" }
        },
        "templateCode": "yesOrNoTemplate",
        "code": "// 判读节点 必须要返回 nextEdge 值是 YES 或者 NO\nexport default async function (ctx) {\n  const { success } = ctx.lastResult || {};\n\n  if (success) {\n    return {\n      nextEdge: 'YES',\n      ...ctx.lastResult\n    };\n  }\n\n  return {\n    nextEdge: 'NO',\n  };\n}\n"
      },
      "zIndex": 6
    },
    {
      "position": { "x": 166, "y": 672 },
      "size": { "width": 66, "height": 36 },
      "attrs": { "text": { "text": "格式" }, "label": { "text": "格式" } },
      "visible": true,
      "shape": "custom-rect",
      "id": "fn-370xoire",
      "data": {
        "settingConfig": "process-config",
        "configValues": { "label": "格式" },
        "codeEditor": true,
        "validateRules": { "inOut": true },
        "templateCode": "processTemplateCode",
        "code": "// 函数节点\nexport default async function (ctx) {\n  const { payload } = ctx || {};\n  const { form, params } = payload || {};\n\n  const { formValues } = ctx.lastResult || {};\n\n  try {\n    const { formatFormValues } = params || {};\n\n    if (formatFormValues) {\n      const newFormValues = await formatFormValues?.(formValues, form);\n\n      return {\n        formValues: newFormValues,\n      };\n    }\n\n    return {\n      formValues,\n    };\n  } catch (err) {\n    return {\n      formValues,\n    };\n  }\n}\n"
      },
      "zIndex": 7,
      "ports": {
        "groups": {
          "topIn": {
            "position": "top",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "leftIn": {
            "position": "left",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "bottomOut": {
            "position": "bottom",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "rightOut": {
            "position": "right",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          }
        },
        "items": [
          { "group": "topIn", "id": "9b7d7b9c-12a5-407a-b372-a9ffdbd39e6c" },
          { "group": "bottomOut", "id": "4b7392b4-86cf-4a4b-88b7-f8b0ac3b19ce" },
          { "group": "leftIn", "id": "7dffb8cd-e65c-47cf-9085-0f80e977b82f" },
          { "group": "rightOut", "id": "76277566-e76c-4ad7-b24d-a10d1423bc7a" }
        ]
      }
    },
    {
      "position": { "x": 166, "y": 770 },
      "size": { "width": 66, "height": 36 },
      "attrs": { "text": { "text": "表单保存" }, "label": { "text": "表单保存" } },
      "visible": true,
      "shape": "custom-rect",
      "id": "fn-odt95ai0",
      "data": {
        "settingConfig": "process-config",
        "configValues": { "label": "表单保存" },
        "codeEditor": true,
        "validateRules": { "inOut": true },
        "templateCode": "processTemplateCode",
        "code": "// 函数节点\nimport { requestPost } from '@/service';\n\nexport default async function (ctx) {\n  const { payload } = ctx || {};\n  const { params } = payload || {};\n\n  const { formValues } = ctx.lastResult || {};\n\n  const { action, extraParams } = params || {};\n\n  try {\n    const res = await requestPost(action, {\n      ...formValues,\n      ...extraParams,\n    });\n\n    const { code, data } = res || {};\n\n    return {\n      success: code !== 200,\n      data,\n    };\n  } catch (e) {\n    return {\n      success: false,\n    };\n  }\n}\n"
      },
      "zIndex": 8,
      "ports": {
        "groups": {
          "topIn": {
            "position": "top",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "leftIn": {
            "position": "left",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "bottomOut": {
            "position": "bottom",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "rightOut": {
            "position": "right",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          }
        },
        "items": [
          { "group": "topIn", "id": "d4b7b797-4a33-4e89-a03a-208ab07c82c0" },
          { "group": "bottomOut", "id": "b48dd8bf-50d7-4178-b7e9-f06d8453c624" },
          { "group": "leftIn", "id": "487276fc-a687-4339-8938-a4898eb07b7d" },
          { "group": "rightOut", "id": "d9187038-7574-4b00-bf45-9667d14cab0f" }
        ]
      }
    },
    {
      "position": { "x": 166, "y": 887 },
      "size": { "width": 66, "height": 36 },
      "attrs": { "text": { "text": "判断" }, "body": { "refPoints": "0,10 10,0 20,10 10,20" } },
      "visible": true,
      "shape": "custom-polygon",
      "ports": {
        "groups": {
          "top": {
            "position": "top",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "hidden" }
              }
            }
          },
          "right": {
            "position": "right",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "hidden" }
              }
            }
          },
          "bottom": {
            "position": "bottom",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "hidden" }
              }
            }
          },
          "left": {
            "position": "left",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "hidden" }
              }
            }
          },
          "topIn": {
            "position": "top",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "leftOut": {
            "position": "left",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "rightOut": {
            "position": "right",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          }
        },
        "items": [
          { "group": "topIn", "id": "ed29d527-9fee-4885-bf2b-e5ab32629eae" },
          { "group": "rightOut", "id": "a43080ff-0d5f-495b-8082-b82a86ba8168" },
          { "group": "leftOut", "id": "ec9605f9-50c7-4aa1-a3c4-a9a6836ba5ff" }
        ]
      },
      "id": "yn-na4lnxpj",
      "data": {
        "settingConfig": "yesOrNo-config",
        "codeEditor": true,
        "configValues": { "label": "判断" },
        "validateRules": { "inOut": true },
        "createEdgeConfig": {
          "rightOut": { "portEdge": "createNoEdge" },
          "leftOut": { "portEdge": "createYesEdge" }
        },
        "templateCode": "yesOrNoTemplate",
        "code": "// 判读节点 必须要返回 nextEdge 值是 YES 或者 NO\nexport default async function (ctx) {\n  const { success } = ctx.lastResult || {};\n\n  if (success) {\n    return {\n      nextEdge: 'YES',\n      ...ctx.lastResult\n    };\n  }\n\n  return {\n    nextEdge: 'NO',\n  };\n}\n"
      },
      "zIndex": 9
    },
    {
      "position": { "x": 166, "y": 1001 },
      "size": { "width": 66, "height": 36 },
      "attrs": { "text": { "text": "callback" }, "label": { "text": "callback" } },
      "visible": true,
      "shape": "custom-rect",
      "id": "fn-qqousqox",
      "data": {
        "settingConfig": "process-config",
        "configValues": { "label": "callback" },
        "codeEditor": true,
        "validateRules": { "inOut": true },
        "templateCode": "processTemplateCode",
        "code": "// 函数节点\n\nexport default async function (ctx) {\n  const { payload } = ctx || {};\n  const { params } = payload || {};\n\n  const { data } = ctx.lastResult || {};\n\n  const { successCallback } = params || {};\n\n  successCallback?.(data);\n\n  return ctx.lastResult;\n}\n"
      },
      "zIndex": 10,
      "ports": {
        "groups": {
          "topIn": {
            "position": "top",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "leftIn": {
            "position": "left",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "bottomOut": {
            "position": "bottom",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          },
          "rightOut": {
            "position": "right",
            "attrs": {
              "circle": {
                "r": 4,
                "magnet": true,
                "stroke": "#5F95FF",
                "strokeWidth": 1,
                "fill": "#fff",
                "style": { "visibility": "true" }
              }
            }
          }
        },
        "items": [
          { "group": "topIn", "id": "88f277ce-97e2-4b28-856d-1ac928d9f37a" },
          { "group": "bottomOut", "id": "fee2f9a1-592f-4a39-a38d-d166af0effed" },
          { "group": "leftIn", "id": "3a0ba094-fbef-4c32-82a8-1e5bf945d491" },
          { "group": "rightOut", "id": "ed876e6d-24b4-422d-91e9-f8bd380b36de" }
        ]
      }
    }
  ]
}
